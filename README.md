# 图片查看器 (Picture Reviewer)

一个功能强大的图片查看器，支持EXIF信息显示、图片保存和批量处理功能。

## 功能特点

### 基本功能
- 图片浏览：支持JPEG格式图片的查看
- 缩略图预览：列表中显示完整的图片缩略图
- 导航控制：支持上一张/下一张图片导航
- EXIF信息显示：
  - 35mm等效焦距
  - 相机型号
  - 相机生产商
  - 镜头型号
  - ISO值
  - 其他EXIF信息

### 高级功能
- 图片保存：将喜欢的图片添加到待保存列表
- 图片删除：将不满意的图片删除，自动从remain_list.txt中移除
- 智能列表管理：
  - 载入图片时自动生成remain_list.txt（包含所有图片）
  - 保存/删除图片时自动从remain_list.txt中移除对应条目
  - 避免save_list.txt和remain_list.txt中的重复条目
- 加载列表：支持从文本文件载入已存在的待保存图片列表
- 批量移动：支持选择操作save_list.txt或remain_list.txt中的图片
- 导出功能：可打包为独立的EXE文件，无需Python环境即可运行

## 安装方法

### 方法一：直接使用EXE文件（推荐）
1. 进入`dist`目录
2. 双击运行`picture_reviewer.exe`即可

### 方法二：从源代码运行
1. 确保已安装Python 3.8或更高版本
2. 安装依赖：
   ```bash
   pip install pillow
   ```
3. 运行程序：
   ```bash
   python picture_reviewer.py
   ```

## 使用说明

### 启动程序
- 直接运行EXE文件或使用Python命令启动

### 选择图片文件夹
1. 点击"选择图片"按钮
2. 在弹出的对话框中选择包含图片的文件夹
3. 程序将自动加载该文件夹中的所有JPEG图片

### 图片导航
- **上一张**：点击"上一张"按钮或按键盘`y`/`Y`键
- **下一张**：点击"下一张"按钮或按键盘`n`/`N`键
- 当遍历完所有图片时，会提示是否重新开始

### 保存图片
- 点击"保存"按钮或按键盘`s`/`S`键，将当前图片添加到待保存列表
- 程序会自动从remain_list.txt中移除该图片

### 删除图片
- 点击"删除"按钮或按键盘`Delete`/`BackSpace`键，将当前图片标记为删除
- 程序会自动从remain_list.txt中移除该图片

### 加载待保存列表
1. 点击"加载已存在的待保存列表"
2. 选择保存有图片路径的文本文件
3. 程序将自动添加这些图片到待保存列表

### 批量移动图片
1. 点击"移动待保存列表图片"
2. 程序将显示选择对话框，可以选择操作：
   - 保存列表 (save_list.txt)：移动所有已保存的图片
   - 剩余列表 (remain_list.txt)：移动所有未保存/未删除的图片
3. 程序将在当前目录创建"已保存图片"子文件夹
4. 所有选中的图片将被移动到该子文件夹

## 快捷键

| 按键 | 功能 |
|------|------|
| `y`/`Y` | 上一张图片 |
| `n`/`N` | 下一张图片 |
| `s`/`S` | 保存当前图片 |
| `Delete`/`BackSpace` | 删除当前图片 |

## 技术说明

### 主要依赖
- `Pillow`：用于图片处理和EXIF信息提取
- `tkinter`：用于GUI界面构建
- `os`/`glob`：用于文件系统操作

### 开发环境
- Python 3.8+
- Windows 操作系统

### 打包为EXE
如需重新打包程序为EXE文件：

1. 安装PyInstaller：
   ```bash
   pip install pyinstaller
   ```
2. 运行打包命令：
   ```bash
   pyinstaller --onefile picture_reviewer.py
   ```
3. 生成的EXE文件将位于`dist`目录

## 常见问题

### Q: 图片缩略图显示不全怎么办？
A: 程序已优化缩略图显示，确保完整显示图片内容。

### Q: 镜头型号显示乱码？
A: 程序已修复EXIF信息编码问题，支持显示各种语言的镜头型号。

### Q: ISO值无法正确显示？
A: 程序已修复ISO值显示问题，支持各种格式的ISO数据。

### Q: 如何添加更多图片到当前列表？
A: 程序将自动加载所选文件夹中的所有JPEG图片，无需手动添加。

## 更新日志

### 最新版本
- 修复了照片总数错误的问题
- 去掉了"待删除列表"功能
- 优化了n/N键的功能，现在直接跳转到下一张图片
- 增加了载入已存在待保存列表的功能
- 增加了批量移动图片到子文件夹的功能
- 修复了EXIF信息显示问题
- 支持导出为独立EXE文件
- **新增remain_list.txt功能**：
  - 载入图片时自动生成remain_list.txt文件（包含所有图片）
  - 新增删除功能（Delete/BackSpace键），删除的图片自动从remain_list.txt移除
  - 保存的图片也会自动从remain_list.txt移除
  - 批量移动时支持选择操作save_list.txt或remain_list.txt
  - 确保两个列表文件中不出现重复条目

## 联系方式

如有问题或建议，欢迎随时反馈。